<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Smart Resume Analyzer</title>

<style>
*{box-sizing:border-box;font-family:Segoe UI,sans-serif}
body{
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color:#fff;margin:0;padding:0
}
.container{max-width:900px;margin:40px auto;padding:30px}
h1{text-align:center;margin-bottom:30px}
.card{
    background:#1e2f38;
    padding:25px;border-radius:14px;
    box-shadow:0 20px 40px rgba(0,0,0,.4)
}
label{font-weight:600;margin-top:15px;display:block}
input[type=file],textarea{
    width:100%;padding:12px;border-radius:8px;border:none;margin-top:8px
}
textarea{height:130px;resize:none}
button{
    width:100%;margin-top:20px;padding:14px;
    background:#00c6ff;border:none;border-radius:10px;
    font-size:16px;font-weight:700;cursor:pointer
}
button:hover{background:#00e5ff}
.result{
    margin-top:40px;background:#17242b;
    padding:25px;border-radius:14px
}
.score{
    font-size:36px;font-weight:800;color:#00ffd5
}
.tags span{
    display:inline-block;margin:6px;padding:8px 14px;
    border-radius:20px;font-size:14px
}
.green{background:#2ecc71;color:#000}
.red{background:#ff5f5f;color:#000}
.blue{background:#4dabf7;color:#000}
.error{color:#ff5f5f;margin-bottom:10px}
</style>

<script>
function scrollResult(){
    setTimeout(()=>{
        document.getElementById("results")?.scrollIntoView({behavior:"smooth"})
    },200)
}
</script>
</head>

<body>
<div class="container">
<h1>ðŸš€ Smart Resume Analyzer</h1>

<div class="card">
<form method="POST" enctype="multipart/form-data" onsubmit="scrollResult()">
{% if error %}<div class="error">{{ error }}</div>{% endif %}

<label>Upload Resume (PDF)</label>
<input type="file" name="resume" accept=".pdf" required>

<label>Paste Job Description</label>
<textarea name="job_desc" placeholder="Paste job description here..." required></textarea>

<button type="submit">Analyze Resume</button>
</form>
</div>

{% if match is not none %}
<div class="result" id="results">
<div class="score">Match Score: {{ match }}%</div>

<h3>Matched Skills</h3>
<div class="tags">
{% for s in matched %}
<span class="green">{{ s }}</span>
{% endfor %}
</div>

<h3>Missing Skills</h3>
<div class="tags">
{% for s in missing %}
<span class="red">{{ s }}</span>
{% endfor %}
</div>

<!-- âœ… NEW SECTION ADDED -->
{% if missing %}
<h3>ðŸ“ˆ How to Improve Your Match</h3>
<p>Consider adding these skills to your resume to improve your match score:</p>
<div class="tags">
{% for s in missing %}
<span class="blue">{{ s }}</span>
{% endfor %}
</div>
{% endif %}

</div>
{% endif %}

</div>

{% if match is not none %}
<script>
document.addEventListener("DOMContentLoaded", function () {
    document.getElementById("results")?.scrollIntoView({ behavior: "smooth" });
});
</script>
{% endif %}

</body>
</html>
